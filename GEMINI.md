# Telegram Intelligence Brief Generator

This project is a set of tools designed to process raw Telegram message data, filter it for geopolitical relevance, and prepare it for the generation of comprehensive HTML intelligence briefs.

## Project Overview

The system takes raw JSON data exported from Telegram (containing news messages), cleanses it of noise (emojis, promotional text) and specific excluded topics, and formats it for analysis. The end goal is to produce a `brief.html` file that serves as an executive-level intelligence report.

### Key Components

*   **`process_messages.py`**: The core Python script that:
    *   Reads raw data from `messages.json`.
    *   Cleans text (removes emojis, links, excessive whitespace).
    *   Filters out specific excluded content (e.g., Israel/Gaza/Iran related terms) and promotional material.
    *   Parses timestamps and calculates the reporting time window.
    *   Exports structured, clean data to `messages_processed.json`.
*   **`instructions.txt`**: A prompt template containing strict strict guidelines for an AI analyst to generate the HTML report.
*   **`cat.sh`**: A shell script that combines the instructions and the processed data into a single prompt file (`combined_prompt.txt`).
*   **`messages.json`**: Input file containing raw Telegram messages.
*   **`brief.html`**: The final output file (generated by an LLM based on the prompt).

## Usage Workflow

1.  **Data Processing**
    Run the Python script to clean and structure the raw messages.
    ```bash
    python process_messages.py
    ```
    *Input:* `messages.json`
    *Output:* `messages_processed.json`

2.  **Prompt Preparation**
    Use the shell script to combine the instructions with the processed data.
    ```bash
    ./cat.sh
    ```
    *Input:* `instructions.txt`, `messages_processed.json`
    *Output:* `combined_prompt.txt`

3.  **Report Generation**
    The contents of `combined_prompt.txt` are intended to be fed into an LLM (like Gemini) to generate the `brief.html` file.

## Development & Conventions

*   **Python**: The script uses standard libraries (`json`, `re`, `datetime`).
*   **Filtering Logic**: `process_messages.py` contains specific logic to exclude certain geopolitical regions and promotional phrases. Check `contains_excluded_content` and `clean_text` functions for details.
*   **Output Format**: The final report must be a standalone HTML file with professional CSS, as defined in `instructions.txt`.
